"use strict";function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var e,t,o,r,n,i,s,c,a,l,u,f,p,d,h,m,y;function g(){var d,h=document,m="controls-panel",y=[],o="pg",e=["none","invert"],t=["off","on"],g={state:l("state",t[1]),filter:l("filter",e[0]),opacity:l("opacity",.5)},v={state:{t:h.documentElement,i:"data"},filter:{t:h.body,i:"data"},opacity:{t:h.body,i:"style"}},i={o:"button",u:"on",v:"states",l:"state",target:v.state,type:"button",list:t,s:!0,p:{m:1}},s={o:"button",u:"invert",v:"filters",l:"filter",target:v.filter,type:"button",list:e,p:{m:2}},c={l:"opacity",type:"number",target:v.opacity,g:"style",p:{min:0,max:1,step:.1,m:3}};function a(e){e.v;var t=e.l,r=e.o,n=e.u,o=e.type,i=e.list,s=(e.action,g[t]),c=e.p,a=i.indexOf(s),l=e.s,u=t,f=h.createElement(r);if(S(f,[m+"__control",m+"__control--"+o]),f.setAttribute("type",o),f.setAttribute("id",u),w(f,"state-num",a),c)for(var p in c)f.setAttribute(p,c[p]);"button"===r&&(f.innerHTML=n),l||y.push(f),d.appendChild(f),f.onclick=function(){e.target&&(s=i[a=+!a],w(f,"state-num",a),w(e.target.t,t,s),A(t,s),l&&!0===l&&("off"===s?(!function(){for(var e in v){var t=v[e];"style"===t.i&&(t.t.style[e]="")}}(),E()):(b(),y.forEach(function(e){e.removeAttribute("disabled")}))))}}function E(){y.forEach(function(e){e.setAttribute("disabled","")})}function l(e,t){var r=[o,e].join("-"),n=localStorage[r];return n||t}function A(e,t){var r=[o,e].join("-");localStorage[r]=t}function b(){for(var e in v){var t=v[e],r=g[e];"style"===t.i&&(t.t.style[e]=r)}}function w(e,t,r){e&&(t="data-"+t,e.setAttribute(t,r))}function S(t,e){t&&0<e.length&&e.forEach(function(e){t.classList.add(e)})}(function(){var e,t,r,n=h.documentElement;if(e=h.body,t="has-sticky-point",e&&(t="data-"+t,void 0!==e.getAttribute(t)&&null!==e.getAttribute(t))){var o=h.querySelector(".sticky-point");o&&!localStorage._&&(n=o),g.state="off"}(d=h.createElement("div")).classList.add(m),n.appendChild(d),["top","right","bottom","left"].forEach(function(e){var t=l(e,"");t&&(d.style[e]=t)}),a(i),a(s),function(e){var t=e.l,r=e.p,n=e.type,o=e.g,i=e.s,s=t,c=h.createElement("input");for(var a in S(c,[m+"__control",m+"__control--"+n]),c.setAttribute("type",n),c.setAttribute("id",s),r)c.setAttribute(a,r[a]);c.setAttribute("value",g[t]),i||y.push(c),d.appendChild(c),c.oninput=function(){"style"===o&&(e.target.t.style[t]=this.value,A(t,this.value))}}(c),S(r=h.createElement("button"),[m+"__control",m+"__control--drag-n-drop"]),r.setAttribute("type","button"),r.innerHTML=" ",d.appendChild(r),r.onmousedown=function(){this.offsetTop;var n=d.clientWidth-this.clientWidth,e=getComputedStyle(d);d.style.top=e.top,d.style.left=e.left,d.style.right="auto",d.style.bottom="auto",h.onmousemove=function(e){var t=e.clientX-n+"px",r=e.clientY+"px";d.style.left=t,d.style.top=r}},r.onmouseup=function(){var e=getComputedStyle(d),t=+e.left.replace(/px/,""),r=+e.right.replace(/px/,""),n=+e.top.replace(/px/,""),o=+e.bottom.replace(/px/,"");r<t?(A("left","auto"),A("right",e.right),d.style.right=e.right,d.style.left="auto"):(A("left",e.left),A("right","auto")),o<n?(A("top","auto"),A("bottom",e.bottom),d.style.bottom=e.bottom,d.style.top="auto"):(A("top",e.top),A("bottom","auto")),h.onmousemove=null}})(),function(){for(var e in v){var t=v[e],r=g[e];"data"===t.i&&w(t.t,e,r)}"off"===g.state&&E()}(),"on"===g.state&&b()}Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!==fe(e))throw TypeError();function r(){}r.prototype=e;var n=new r;if(e&&(n.constructor=r),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(n,t)}return n}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var n=Object.defineProperty;Object.defineProperty=function(e,t,r){if(n)try{return n(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(0<arguments.length&&(n=Number(arguments[1]),isNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),r<=n)return-1;for(var o=0<=n?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=r;1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n))));for(var o=0<=n?Math.min(n,r-1):r-Math.abs(n);0<=o;o--)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)if(n in t&&!e.call(o,t[n],n,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)if(n in t&&e.call(o,t[n],n,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)n in t&&e.call(o,t[n],n,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n=[];n.length=r;var o,i=arguments[1];for(o=0;o<r;o++)o in t&&(n[o]=e.call(i,t[o],o,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=[],i=arguments[1];for(n=0;n<r;n++)if(n in t){var s=t[n];e.call(i,s,n,t)&&o.push(s)}return o}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,o=0;if(2<=arguments.length)n=arguments[1];else for(;;){if(o in t){n=t[o++];break}if(++o>=r)throw TypeError()}for(;o<r;)o in t&&(n=e.call(void 0,n,t[o],o,t)),o++;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,o=r-1;if(2<=arguments.length)n=arguments[1];else for(;;){if(o in this){n=this[o--];break}if(--o<0)throw TypeError()}for(;0<=o;)o in t&&(n=e.call(void 0,n,t[o],o,t)),o--;return n}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),function(n){if("window"in n&&"document"in n){document.querySelectorAll||(document.querySelectorAll=function(e){var t,r=document.createElement("style"),n=[];for(document.documentElement.firstChild.appendChild(r),document._qsa=[],r.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),r.parentNode.removeChild(r);document._qsa.length;)(t=document._qsa.shift()).style.removeAttribute("x-qsa"),n.push(t);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),n.Node=n.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach(function(e){e[0]in n.Node||(n.Node[e[0]]=e[1])}),n.DOMException=n.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach(function(e){e[0]in n.DOMException||(n.DOMException[e[0]]=e[1])}),function(){function t(e,t,r){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var n=this,o=function(e){e._timeStamp=Date.now(),e._currentTarget=n,t.call(this,e),e._currentTarget=null};this["_"+e+t]=o,this.attachEvent("on"+e,o)}}function r(e,t,r){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var n=this["_"+e+t];n&&(this.detachEvent("on"+e,n),this["_"+e+t]=null)}}"Element"in n&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return!1===this.returnValue}}}),[Window,HTMLDocument,Element].forEach(function(e){e.prototype.addEventListener=t,e.prototype.removeEventListener=r}))}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}"CustomEvent"in n&&"function"==typeof n.CustomEvent||(e.prototype=n.Event.prototype,n.CustomEvent=e)}(),window.addEvent=function(t,r,n){t.addEventListener?t.addEventListener(r,n,!1):t.attachEvent&&(t["e"+r+n]=n,t[r+n]=function(){var e=window.event;e.currentTarget=t,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement,e.timeStamp=Date.now(),t["e"+r+n].call(this,e)},t.attachEvent("on"+r,t[r+n]))},window.removeEvent=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+r]),e[t+r]=null,e["e"+t+r]=null)},function(){function t(i,s){function c(e){return e.length?e.split(/\s+/g):[]}function a(e,t){var r=c(t),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return c(i[s]).length}},item:{value:function(e){var t=c(i[s]);return 0<=e&&e<t.length?t[e]:null}},contains:{value:function(e){if(0===(e=String(e)).length)throw SyntaxError();if(/\s/.test(e))throw Error("InvalidCharacterError");return-1!==c(i[s]).indexOf(e)}},add:{value:function(){var e=Array.prototype.slice.call(arguments).map(String);if(e.some(function(e){return 0===e.length}))throw SyntaxError();if(e.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var t=i[s],r=c(t);if(0===(e=e.filter(function(e){return-1===r.indexOf(e)})).length)return;0===t.length||/\s$/.test(t)||(t+=" "),t+=e.join(" "),i[s]=t}finally{var n=c(i[s]).length;this.length!==n&&(this.length=n)}}},remove:{value:function(){var e=Array.prototype.slice.call(arguments).map(String);if(e.some(function(e){return 0===e.length}))throw SyntaxError();if(e.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var t=i[s];e.forEach(function(e){t=a(e,t)}),i[s]=t}finally{var r=c(i[s]).length;this.length!==r&&(this.length=r)}}},toggle:{value:function(e){var t=arguments[1];try{if(0===(e=String(e)).length)throw SyntaxError();if(/\s/.test(e))throw Error("InvalidCharacterError");var r=c(i[s]).indexOf(e);if(-1!==r&&(!t||void 0===t))return i[s]=a(e,i[s]),!1;if(-1!==r&&t)return!0;var n=i[s];return 0===n.length||/\s$/.test(n)||(n+=" "),n+=e,i[s]=n,!0}finally{var o=c(i[s]).length;this.length!==o&&(this.length=o)}}},toString:{value:function(){return i[s]}}}),"length"in this)for(var e=0;e<100;++e)Object.defineProperty(this,String(e),{get:function(e){return function(){return this.item(e)}}(e)});else this.length=c(i[s]).length}function e(e,t){"Element"in n&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,e,{get:t})}"classList"in document.createElement("span")?window.getClassList=function(e){return e.classList}:(window.getClassList=function(e){return new t(e,"className")},e("classList",function(){return new t(this,"className")})),"relList"in document.createElement("link")?window.getRelList=function(e){return e.relList}:(window.getRelList=function(e){return new t(e,"rel")},e("relList",function(){return new t(this,"rel")})),function(){if("DOMTokenList"in n){var e=document.createElement("span");"classList"in e&&(e.classList.toggle("x",!1),e.classList.contains("x")&&(n.DOMTokenList.prototype.toggle=function(e){var t=arguments[1];if(void 0!==t)return this[(t=!!t)?"add":"remove"](e),t;var r=!this.contains(e);return this[r?"add":"remove"](e),r}))}}(),"previousElementSibling"in document.documentElement||e("previousElementSibling",function(){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}),"nextElementSibling"in document.documentElement||e("nextElementSibling",function(){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e})}(),"Element"in n&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,r=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=r.length;0<=--t&&r.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n});var e={prepend:function(){var e=[].slice.call(arguments);e=o(e),this.insertBefore(e,this.firstChild)},append:function(){var e=[].slice.call(arguments);e=o(e),this.appendChild(e)}};r(n.Document||n.HTMLDocument,e),r(n.DocumentFragment,e),r(n.Element,e);var t={before:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.previousSibling;-1!==e.indexOf(r);)r=r.previousSibling;var n=o(e);t.insertBefore(n,r?r.nextSibling:t.firstChild)}},after:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.nextSibling;-1!==e.indexOf(r);)r=r.nextSibling;var n=o(e);t.insertBefore(n,r)}},replaceWith:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.nextSibling;-1!==e.indexOf(r);)r=r.nextSibling;var n=o(e);this.parentNode===t?t.replaceChild(n,this):t.insertBefore(n,r)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};r(n.DocumentType,t),r(n.Element,t),r(n.CharacterData,t)}function r(r,n){r&&Object.keys(n).forEach(function(t){if(!(t in r||t in r.prototype))try{Object.defineProperty(r.prototype,t,Object.getOwnPropertyDescriptor(n,t))}catch(e){r[t]=n[t]}})}function o(e){var t=null;return 1===(e=e.map(function(e){return e instanceof Node?e:document.createTextNode(e)})).length?t=e[0]:(t=document.createDocumentFragment(),e.forEach(function(e){t.appendChild(e)})),t}}(self),e=window,a=navigator.userAgent,e.HTMLPictureElement&&/ecko/.test(a)&&a.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(o=document.createElement("source"),r=function(e){var t,r,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=o.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout(function(){n.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},i=function(){clearTimeout(t),t=setTimeout(n,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),c=function(){i(),s&&s.addListener&&s.addListener(i)},o.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?c():document.addEventListener("DOMContentLoaded",c),i)),function(e,i,l){function u(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function S(e,t){return e.res-t.res}function T(e,t){var r,n,o;if(e&&t)for(o=N.parseSet(t),e=N.makeUrl(e),r=0;r<o.length;r++)if(e===N.makeUrl(o[r].url)){n=o[r];break}return n}i.createElement("picture");var o,f,a,n,s,r,c,p,d,h,t,m,y,g,v,E,A,b,w,O,_,C,N={},x=!1,L=function(){},D=i.createElement("img"),R=D.getAttribute,M=D.setAttribute,j=D.removeAttribute,I=i.documentElement,P={},k={algorithm:""},B="data-pfsrc",U=B+"set",z=navigator.userAgent,q=/rident/.test(z)||/ecko/.test(z)&&z.match(/rv\:(\d+)/)&&35<RegExp.$1,H="currentSrc",G=/\s+\+?\d+(e\d+)?w/,W=/(\([^)]+\))?\s*(.+)/,F=e.picturefillCFG,$="font-size:100%!important;",Q=!0,V={},Y={},X=e.devicePixelRatio,K={px:1,in:96},Z=i.createElement("a"),J=!1,ee=/^[ \t\n\r\u000c]+/,te=/^[, \t\n\r\u000c]+/,re=/^[^ \t\n\r\u000c]+/,ne=/[,]+$/,oe=/^\d+$/,ie=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,se=function(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n||!1):e.attachEvent&&e.attachEvent("on"+t,r)},ce=function(t){var r={};return function(e){return e in r||(r[e]=t(e)),r[e]}},ae=(n=/^([\d\.]+)(em|vw|px)$/,s=ce(function(e){return"return "+function(){for(var e=arguments,t=0,r=e[0];++t in e;)r=r.replace(e[t],e[++t]);return r}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var r;if(!(e in V))if(V[e]=!1,t&&(r=e.match(n)))V[e]=r[1]*K[r[2]];else try{V[e]=new Function("e",s(e))(K)}catch(e){}return V[e]}),le=function(e,t){return e.w?(e.cWidth=N.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(x){var t,r,n,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=(t=o.elements||N.qsa(o.context||i,o.reevaluate||o.reselect?N.sel:N.selShort)).length){for(N.setupRun(o),J=!0,r=0;r<n;r++)N.fillImg(t[r],o);N.teardownRun(o)}}};e.console&&console.warn,H in D||(H="src"),P["image/jpeg"]=!0,P["image/gif"]=!0,P["image/png"]=!0,P["image/svg+xml"]=i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),N.ns=("pf"+(new Date).getTime()).substr(0,9),N.supSrcset="srcset"in D,N.supSizes="sizes"in D,N.supPicture=!!e.HTMLPictureElement,N.supSrcset&&N.supPicture&&!N.supSizes&&(w=i.createElement("img"),D.srcset="data:,a",w.src="data:,a",N.supSrcset=D.complete===w.complete,N.supPicture=N.supSrcset&&N.supPicture),N.supSrcset&&!N.supSizes?(E="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",A=i.createElement("img"),b=function(){2===A.width&&(N.supSizes=!0),f=N.supSrcset&&!N.supSizes,x=!0,setTimeout(ue)},A.onload=b,A.onerror=b,A.setAttribute("sizes","9px"),A.srcset=E+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",A.src=E):x=!0,N.selShort="picture>img,img[srcset]",N.sel=N.selShort,N.cfg=k,N.DPR=X||1,N.u=K,N.types=P,N.setSize=L,N.makeUrl=ce(function(e){return Z.href=e,Z.href}),N.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},N.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?N.matchesMedia=function(e){return!e||matchMedia(e).matches}:N.matchesMedia=N.mMQ,N.matchesMedia.apply(this,arguments)},N.mMQ=function(e){return!e||ae(e)},N.calcLength=function(e){var t=ae(e,!0)||!1;return t<0&&(t=!1),t},N.supportsType=function(e){return!e||P[e]},N.parseSize=ce(function(e){var t=(e||"").match(W);return{media:t&&t[1],length:t&&t[2]}}),N.parseSet=function(e){return e.cands||(e.cands=function(n,f){function e(e){var t,r=e.exec(n.substring(a));return r?(t=r[0],a+=t.length,t):void 0}function t(){var e,t,r,n,o,i,s,c,a,l=!1,u={};for(n=0;n<d.length;n++)i=(o=d[n])[o.length-1],s=o.substring(0,o.length-1),c=parseInt(s,10),a=parseFloat(s),oe.test(s)&&"w"===i?((e||t)&&(l=!0),0===c?l=!0:e=c):ie.test(s)&&"x"===i?((e||t||r)&&(l=!0),a<0?l=!0:t=a):oe.test(s)&&"h"===i?((r||t)&&(l=!0),0===c?l=!0:r=c):l=!0;l||(u.url=p,e&&(u.w=e),t&&(u.d=t),r&&(u.h=r),r||t||e||(u.d=1),1===u.d&&(f.has1x=!0),u.set=f,h.push(u))}function r(){for(e(ee),o="",i="in descriptor";;){if(s=n.charAt(a),"in descriptor"===i)if(u(s))o&&(d.push(o),o="",i="after descriptor");else{if(","===s)return a+=1,o&&d.push(o),void t();if("("===s)o+=s,i="in parens";else{if(""===s)return o&&d.push(o),void t();o+=s}}else if("in parens"===i)if(")"===s)o+=s,i="in descriptor";else{if(""===s)return d.push(o),void t();o+=s}else if("after descriptor"===i)if(u(s));else{if(""===s)return void t();i="in descriptor",a-=1}a+=1}}for(var p,d,o,i,s,c=n.length,a=0,h=[];;){if(e(te),c<=a)return h;p=e(re),d=[],","===p.slice(-1)?(p=p.replace(ne,""),t()):r()}}(e.srcset,e)),e.cands},N.getEmValue=function(){var e;if(!o&&(e=i.body)){var t=i.createElement("div"),r=I.style.cssText,n=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",I.style.cssText=$,e.style.cssText=$,e.appendChild(t),o=t.offsetWidth,e.removeChild(t),o=parseFloat(o,10),I.style.cssText=r,e.style.cssText=n}return o||16},N.calcListLength=function(e){if(!(e in Y)||k.uT){var t=N.calcLength(function(e){var t,r,n,o,i,s,c,a=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=(r=function(e){function t(){o&&(i.push(o),o="")}function r(){i[0]&&(s.push(i),i=[])}for(var n,o="",i=[],s=[],c=0,a=0,l=!1;;){if(""===(n=e.charAt(a)))return t(),r(),s;if(l){if("*"===n&&"/"===e[a+1]){l=!1,a+=2,t();continue}a+=1}else{if(u(n)){if(e.charAt(a-1)&&u(e.charAt(a-1))||!o){a+=1;continue}if(0===c){t(),a+=1;continue}n=" "}else if("("===n)c+=1;else if(")"===n)c-=1;else{if(","===n){t(),r(),a+=1;continue}if("/"===n&&"*"===e.charAt(a+1)){l=!0,a+=2;continue}}o+=n,a+=1}}}(e)).length,t=0;t<n;t++)if(i=(o=r[t])[o.length-1],c=i,a.test(c)&&0<=parseFloat(c)||l.test(c)||"0"===c||"-0"===c||"+0"===c){if(s=i,o.pop(),0===o.length)return s;if(o=o.join(" "),N.matchesMedia(o))return s}return"100vw"}(e));Y[e]=t||K.width}return Y[e]},N.setRes=function(e){var t;if(e)for(var r=0,n=(t=N.parseSet(e)).length;r<n;r++)le(t[r],e.sizes);return t},N.setRes.res=le,N.applySetCandidate=function(e,t){if(e.length){var r,n,o,i,s,c,a,l,u,f=t[N.ns],p=N.DPR;if(c=f.curSrc||t[H],(a=f.curCan||(E=t,A=c,!(b=e[0].set)&&A&&(b=(b=E[N.ns].sets)&&b[b.length-1]),(w=T(A,b))&&(A=N.makeUrl(A),E[N.ns].curSrc=A,(E[N.ns].curCan=w).res||le(w,w.set.sizes)),w))&&a.set===e[0].set&&((u=q&&!t.complete&&a.res-.1>p)||(a.cached=!0,a.res>=p&&(s=a))),!s)for(e.sort(S),s=e[(i=e.length)-1],n=0;n<i;n++)if((r=e[n]).res>=p){s=e[o=n-1]&&(u||c!==N.makeUrl(r.url))&&(d=e[o].res,h=r.res,m=p,y=e[o].cached,v=g=void 0,m<("saveData"===k.algorithm?2.7<d?m+1:(v=(h-m)*(g=Math.pow(d-.6,1.5)),y&&(v+=.1*g),d+v):1<m?Math.sqrt(d*h):d))?e[o]:r;break}s&&(l=N.makeUrl(s.url),f.curSrc=l,f.curCan=s,l!==c&&N.setSrc(t,s),N.setSize(t))}var d,h,m,y,g,v,E,A,b,w},N.setSrc=function(e,t){var r;e.src=t.url,"image/svg+xml"===t.set.type&&(r=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=r))},N.getSet=function(e){var t,r,n,o=!1,i=e[N.ns].sets;for(t=0;t<i.length&&!o;t++)if((r=i[t]).srcset&&N.matchesMedia(r.media)&&(n=N.supportsType(r.type))){"pending"===n&&(r=n),o=r;break}return o},N.parseSets=function(e,t,r){var n,o,i,s,c=t&&"PICTURE"===t.nodeName.toUpperCase(),a=e[N.ns];(a.src===l||r.src)&&(a.src=R.call(e,"src"),a.src?M.call(e,B,a.src):j.call(e,B)),(a.srcset===l||r.srcset||!N.supSrcset||e.srcset)&&(n=R.call(e,"srcset"),a.srcset=n,s=!0),a.sets=[],c&&(a.pic=!0,function(e,t){var r,n,o,i,s=e.getElementsByTagName("source");for(r=0,n=s.length;r<n;r++)(o=s[r])[N.ns]=!0,(i=o.getAttribute("srcset"))&&t.push({srcset:i,media:o.getAttribute("media"),type:o.getAttribute("type"),sizes:o.getAttribute("sizes")})}(t,a.sets)),a.srcset?(o={srcset:a.srcset,sizes:R.call(e,"sizes")},a.sets.push(o),(i=(f||a.src)&&G.test(a.srcset||""))||!a.src||T(a.src,o)||o.has1x||(o.srcset+=", "+a.src,o.cands.push({url:a.src,d:1,set:o}))):a.src&&a.sets.push({srcset:a.src,sizes:null}),a.curCan=null,a.curSrc=l,a.supported=!(c||o&&!N.supSrcset||i&&!N.supSizes),s&&N.supSrcset&&!a.supported&&(n?(M.call(e,U,n),e.srcset=""):j.call(e,U)),a.supported&&!a.srcset&&(!a.src&&e.src||e.src!==N.makeUrl(a.src))&&(null===a.src?e.removeAttribute("src"):e.src=a.src),a.parsed=!0},N.fillImg=function(e,t){var r,n,o,i,s,c=t.reselect||t.reevaluate;e[N.ns]||(e[N.ns]={}),r=e[N.ns],(c||r.evaled!==a)&&((!r.parsed||t.reevaluate)&&N.parseSets(e,e.parentNode,t),r.supported?r.evaled=a:(n=e,i=N.getSet(n),s=!1,"pending"!==i&&(s=a,i&&(o=N.setRes(i),N.applySetCandidate(o,n))),n[N.ns].evaled=s))},N.setupRun=function(){(!J||Q||X!==e.devicePixelRatio)&&(Q=!1,X=e.devicePixelRatio,V={},Y={},N.DPR=X||1,K.width=Math.max(e.innerWidth||0,I.clientWidth),K.height=Math.max(e.innerHeight||0,I.clientHeight),K.vw=K.width/100,K.vh=K.height/100,a=[K.height,K.width,X].join("-"),K.em=N.getEmValue(),K.rem=K.em)},N.supPicture?(ue=L,N.fillImg=L):(m=e.attachEvent?/d$|^c/:/d$|^c|^i/,y=function e(){var t=i.readyState||"";g=setTimeout(e,"loading"===t?200:999),i.body&&(N.fillImgs(),(r=r||m.test(t))&&clearTimeout(g))},g=setTimeout(y,i.body?9:99),v=I.clientHeight,se(e,"resize",(c=function(){Q=Math.max(e.innerWidth||0,I.clientWidth)!==K.width||I.clientHeight!==v,v=I.clientHeight,Q&&N.fillImgs()},p=99,t=function e(){var t=new Date-h;t<p?d=setTimeout(e,p-t):(d=null,c())},function(){h=new Date,d||(d=setTimeout(t,p))})),se(i,"readystatechange",y)),N.picturefill=ue,N.fillImgs=ue,N.teardownRun=L,ue._=N,e.picturefillCFG={pf:N,push:function(e){var t=e.shift();"function"==typeof N[t]?N[t].apply(N,e):(k[t]=e[0],J&&N.fillImgs({reselect:!0}))}};for(;F&&F.length;)e.picturefillCFG.push(F.shift());e.picturefill=ue,"object"==("undefined"==typeof module?"undefined":fe(module))&&"object"==fe(module.exports)?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),N.supPicture||(P["image/webp"]=(O="image/webp",_="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(C=new e.Image).onerror=function(){P[O]=!1,ue()},C.onload=function(){P[O]=1===C.width,ue()},C.src=_,"pending"))}(window,document),window.onload=function(){g()},l=document.querySelector("main"),window.utils={KEYCODE:{ESC:27,ENTER:13},mainElem:l,errorTemplate:'<div class="error"><p class="error__message">Action failed. Try again later!</p></div>',successTemplate:'<div class="success"><p class="success__message">Your message has been sent!</p></div>'},u=200,window.backend={save:function(e,t,r,n){var o,i,s,c=(o=r,i=n,(s=new XMLHttpRequest).addEventListener("load",function(){s.status===u?o(s.response):i("Response status: "+s.status+" "+s.statusText)}),s.addEventListener("error",function(){window.renderMsg(window.utils.errorTemplate)}),s);c.open("POST",e),c.send(t),c.responseType="json"}},f=document.querySelector(".intro__scroll"),p=document.querySelector(".about"),f&&p&&f.addEventListener("click",function(){p.scrollIntoView(!0)}),window.renderMsg=function(e){var t=document.createElement("div");function r(e){e.keyCode===window.utils.KEYCODE.ESC&&window.utils.mainElem.removeChild(t),document.removeEventListener("keydown",r)}return t.innerHTML=e,t.tabIndex=0,document.addEventListener("keydown",r),t.addEventListener("click",function(){window.utils.mainElem.removeChild(t),document.removeEventListener("keydown",r)}),window.utils.mainElem.appendChild(t),t.focus(),t},function(){var e=document.querySelector(".header"),t=e.querySelector(".header__toggle");function r(){t.classList.toggle("toggle--active"),e.classList.toggle("header--closed")}e&&t&&(t.addEventListener("click",r),r())}(),function(){var e=document.querySelector(".contact__form");function t(){window.renderMsg(window.utils.successTemplate)}function r(e){window.renderMsg(window.utils.errorTemplate).querySelector(".error__message").textContent=e}var n={MIN:5,MAX:300},o=e.querySelector(".contact__textarea"),i="Your message must be more then 5 letters and less then 300 letters";e&&e.addEventListener("submit",function(e){e.preventDefault(),window.backend.save("https://echo.htmlacademy.ru",new FormData(e.target),t,r),e.target.reset()}),o&&o.addEventListener("input",function(){o.setCustomValidity(o.value.length<n.MIN||o.value.length>n.MAX?i:"")})}(),d=document.querySelector(".scroll"),h=document.querySelector(".footer"),m=.2*Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),y=document.documentElement.clientHeight,d&&h&&(document.addEventListener("scroll",function(){var e=h.offsetTop-y;window.pageYOffset>m?d.classList.add("scroll--visible"):d.classList.remove("scroll--visible"),window.pageYOffset>e?(d.classList.add("scroll--stable"),d.style.bottom=h.offsetHeight+"px"):(d.classList.remove("scroll--stable"),d.style.bottom="5vh")}),d.addEventListener("click",function(){window.scrollTo(0,0),d.classList.remove("scroll--stable"),d.classList.remove("scroll--visible")}));
//# sourceMappingURL=script.min.js.map
